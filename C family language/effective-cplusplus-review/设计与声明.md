# 设计与声明

条款18: 让接口容易被正确使用， 不易被误用
---

接口设计的时候就杜绝误用的可能性，保证使用者按照你设计的意愿来使用你的接口，比如说文中返回raw pointer 和 shared_ptr shared_ptr限制更严格，这样就杜绝了用户仍旧使用危险的raw pointer；在有C++11之后， 我们可以使用下面这样的接口来声明我们的函数：
```c++
std::unique_ptr<Widget> CreateWidget(...) {
    std::unique_ptr<Widget> p(new Widget);
    return std::move(p);
}
```
上面这样的声明一来可以告知使用api的人，这个返回的对象需要你来决定他的生命周期，再而也可以约束他不当的使用；这相当于一个警醒；

文中还提到了一个我未曾遇到与没有思考过的问题， 就是跨dll new／delete的问题，同时也指出，使用这些包装类会增加程序开销、代码体积、内存占用等等问题，但是值得这样做.
